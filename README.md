# To-Due List
#### Video Demo:  <URL HERE>
#### Description:

##### Introduction
  My final project for CS50x is a to-do list in the form of a chrome extension. The goal was to create a convenient place to record the tasks that I need to complete, so that I can be more productive through more effective planning. I have implemented many useful features, such as the ability to rank/prioritize certain tasks, set a task date, sort tasks by chronological order, check off completed tasks, toggle between the dark/light themes, mute the sound effects for checking of tasks and deleting tasks, and setting the notification options. 
  
##### manifest.json
   The file, manifest.json, contains the information necessary for chrome to determine the extension details., from the version of Manifest, to the extension's name and icon, to the roles of the other files, to the permissions the user must allow the extension to have in order for it to function properly. Here, I set the extension icon to an image of a checklist. I have chosen to use Manifest 3 because of its use of service workers instead of background workers, which run when an event occurs rather than constantly running in the background. The service worker is background.js and the default popup is popup.html, and the extension requires permission for chrome storage, notifications, and alarms. 

##### popup.html
  The file, popup.html, contains the HTML content of the extension popup window after the extension is clicked on. Within it, the script, popup.js, and stylesheet, popup.css, are linked, as well as a stylesheet for Font-Awesome 4.7.0 icons. I created all the elements with classes and id's so that the popup.js script is able to make changes to it. There are buttons to serve certain functions: setting notifications, muting sound effects, toggling between the dark/light themes, sorting the tasks by date, and creating a new task. Two tables are used to separate the ongoing tasks from the completed tasks, with a button above it to trigger the accordion effect, minimizing the table when clicked. Lastly, there is an overlay for setting notifications as when the button is clicked, the overlay appears, showing the user the options for how long before the set task datetime the notification should be sent. 

##### popup.css
  The stylesheet, popup.css, contains the styling for all the HTML elements in popup.html. First, all elements are cleansed to start with a clean slate. Then, each tag, class, and id is styled. For some classes, like the "accordion" for example, have animations, so there is additional CSS added to the "after" selector. The notification overlay is not displayed until popup.js displays it when the button is clicked. Most buttons are given the class "circle" with a border radius of 50% and seagreen background colour. However, each button is positioned individually. Further down, the CSS for light mode can be found, which simply applies different CSS to the specified tags when the "body" tag is given the class "light". At the bottom, the scrollbar is hidden to prevent the content from being pushed, and a fade animation occurs when the class "glow" is added to indicate an inserted task. 

##### popup.js
  The script, popup.js, contains all of the magic behind the scenes of the extension popup. First, the initial work is done on window.onload, once the HTML from popup.html has loaded in. Inside this function, the data from the chrome sync storage (title of list, tasks, settings) is retrieved and displayed in the popup window. Eventlisteners are then added to the buttons and the data is logged to the console using the function "log". The "rename" function saves the title input to the chrome sync storage. The "newTask" function creates a new table row with several table divisions: priority, description, date, time, checkbox, and delete. It creates blank or default values for each input, then stores the data in the chrome sync storage. "Count" counts the number of tasks in the table and shows it in the accordion button and "expand" expands the accordion by displaying the table. The "sync" and "save" work together to autosave the title or tasks when the input has changed. "Sync" creates a timeout to prevent autosave from being triggered too often, at which chrome would throw an error. "Save" takes the data from each input and saves it as an array in the array under the key "ongoing" or "complete" in the chrome sync storage. The function "remove" deletes the task row from the table and the chrome sync storage, and shifts all of the tasks below it, up an index. Checking/unchecking a task simply deletes it from one table and adds it to the other. Similarly for "insert," the task row is inserted at the priority index selected, shifting all the data between the initial and final position by one index in the chrome sync storage. The function "schedule" creates the alarms for notifications after the notification preferences are changed, and the function "reschedule" changes the alarm when the date or time of the task is changed. The alarms are shifted in "remove" and "insert" using the funtion "shift". "Sound" toggles mute and "chrono" sorts the ongoing tasks by datetime. 
  
##### background.js
  The service worker script, background.js, listens for alarms and creates a notification as accordingly. My name scheme for alarms is the index of the task in the chrome sync storage and the integer minutes of how long the alarm triggers before the task set datetime, separated with a "/". Using this, it can retrieve the task data from the chrome sync storage and display a notification with the title as the task description and message as how long until the task datetime arrives. 
  
##### Design Choices
  I decided to create To-Due List as a chrome extension popup because it is what I find to be most convenient. I do all of my work on a PC or laptop, so I am always able to check it right in chrome. Alternatively, it would have been possible to create similar software in the form of an app that can be used on mobile devices, but I tend to use my phone less often especially during the COVID pandemic, and my phone is not for productivity but for leisure, so it would be easy to get distracted from my tasks. Having it as a popup window rather than a standalone window fits better with my workflow as I switch between windows frequently, so having another window would make it more cluttered, and I prefer seeing my extensions in the top right corner. An aesthetic choice was to create both a dark and light theme to toggle between as I prefer a dark theme, but others may prefer a light theme. 
  
##### Conclusion
  Overall, I am very content with this project. I have used many useful extensions in chrome and creating one myself was simpler than I had imagined since I had a background of web development, but it was still a great learning experience. Figuring out how to configure the chrome storage was what I found most challenging and I had trouble dealing with the asynchronous functions. What I am most proud of is figuring out how to coordinate the swapping of tasks in the HTML with the chrome storage and alarms. Another feature I am proud of is the notifications because I have enabled the user to choose how long before the time of the task they should be reminded, and the notifications themselves show basic but essential information of the upcoming task. 